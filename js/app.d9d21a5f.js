(function(){"use strict";var t={863:function(t,e,s){var a=s(7195),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r=s(1001),n={},l=(0,r.Z)(n,o,i,!1,null,null,null),c=l.exports,d=s(2241),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("b-card",{staticClass:"mx-auto text-center mt-5",staticStyle:{"max-width":"20rem"},attrs:{title:"Sign Up"}},[e("b-card-text",[e("b-form-input",{staticClass:"mb-2",attrs:{id:"email",type:"email",placeholder:"Your Email",state:t.emailState},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("b-form-invalid-feedback",{attrs:{id:"email-feedback"}},[t._v(" This field is required. ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"username",placeholder:"Your Username",state:t.usernameState},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("b-form-invalid-feedback",{attrs:{id:"username-feedback"}},[t._v(" This field is required. ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"password",type:"password",placeholder:"Your Password",state:t.passwordState},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v(" "+t._s(t.passwordValidationMsg)+" ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"confirm-password",type:"password",placeholder:"Confirm Password",state:t.confirmPasswordState},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),e("b-form-invalid-feedback",{attrs:{id:"confirm-password-feedback"}},[t._v(" "+t._s(t.confirmPasswordValidationMsg)+" ")])],1),e("b-button",{attrs:{variant:"primary"},on:{click:t.signup}},[t._v("Sign Up")]),e("b-alert",{staticClass:"mt-2",attrs:{show:t.visibleGeneralError,variant:"danger"}},[t._v(" "+t._s(t.generalErrorMsg)+" ")])],1)],1)},u=[],p=(s(7658),{name:"SignUpView",data(){return{email:"",username:"",password:"",confirmPassword:"",emailState:null,usernameState:null,passwordState:null,confirmPasswordState:null,passwordValidationMsg:"This field is required.",confirmPasswordValidationMsg:"This field is required.",generalErrorMsg:"",visibleGeneralError:!1}},methods:{validateForm(){this.emailState=null,this.usernameState=null,this.passwordState=null,this.confirmPasswordState=null;let t=!0;return this.email||(this.emailState=!1,t=!1),this.username||(this.usernameState=!1,t=!1),this.password||(this.passwordState=!1,t=!1),this.confirmPassword||(this.confirmPasswordState=!1,t=!1),this.password!==this.confirmPassword&&(this.passwordState=!1,this.confirmPasswordState=!1,this.passwordValidationMsg="Passwords do not match",this.confirmPasswordValidationMsg="Passwords do not match",t=!1),t},async signup(){if(console.log("tuka sme vo sign up"),!this.validateForm())return void console.log("formot ne e validen");const t={username:this.username,email:this.email,password:this.password},e=await fetch("http://localhost:8000/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();if(201===e.status)localStorage.setItem("token",s.token),this.$router.push({name:"HomePage"});else{this.generalErrorMsg="";for(const t in s){let e=s[t];this.generalErrorMsg+=e.join(" "),this.generalErrorMsg+=" "}this.visibleGeneralError=!0}}}}),h=p,f=(0,r.Z)(h,m,u,!1,null,null,null),b=f.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"container"},[e("b-card",{staticClass:"mx-auto text-center mt-5",staticStyle:{"max-width":"20rem"},attrs:{title:"Login"}},[e("b-card-text",[e("b-form-input",{staticClass:"mb-2",attrs:{id:"username",placeholder:"Your Username",state:t.usernameState},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("b-form-invalid-feedback",{attrs:{id:"username-feedback"}},[t._v(" "+t._s(t.usernameValidationMsg)+" ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"password",type:"password",placeholder:"Your Password",state:t.passwordState},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v(" "+t._s(t.passwordValidationMsg)+" ")])],1),e("b-button",{attrs:{variant:"primary"},on:{click:t.login}},[t._v("Log In")])],1)],1)])},v=[],w={name:"LoginView",data(){return{username:"",password:"",usernameState:null,passwordState:null,passwordValidationMsg:"This field is required.",usernameValidationMsg:"This field is required."}},methods:{validateForm(){this.usernameState=null,this.passwordState=null;let t=!0;return this.username||(this.usernameState=!1,t=!1),this.password||(this.passwordState=!1,t=!1),t},async login(){if(!this.validateForm())return;const t={username:this.username,password:this.password},e=await fetch("http://localhost:8000/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();200===e.status?(localStorage.setItem("token",s.token),this.$router.push({name:"HomePage"})):(this.usernameState=!1,this.passwordState=!1,this.usernameValidationMsg="Invalid credentials.",this.passwordValidationMsg="Invalid credentials.")}}},y=w,S=(0,r.Z)(y,g,v,!1,null,null,null),_=S.exports,C=function(){var t=this,e=t._self._c;return e("b-container",[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"6"}},[e("div",{staticClass:"create-post-card"},[e("h1",[t._v("Create Post")]),e("br"),e("div",{staticClass:"wrapper"},[e("p",[e("b",[t._v("Title:")]),e("b-form-input",{staticClass:"mb-2 w-100",attrs:{id:"title",placeholder:"Write Title for the Blog",state:t.titleState},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(" This field is required. ")])],1),e("br"),e("div",[e("p",[e("b",[t._v("Text:")])]),e("b-form-input",{staticClass:"w-100",attrs:{id:"textarea-rows",placeholder:"What's on your mind?",state:t.descriptionState},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(" This field is required. ")]),e("br"),e("br")],1),e("b-row",{staticClass:"text-center",attrs:{"align-v":"center"}},[e("b-col",[e("b-button",{staticClass:"main-navigation-button",attrs:{variant:"primary"},on:{click:t.submit}},[t._v("Post")])],1)],1)],1)])],1)],1)},k=[],P={name:"PostCreateView",data(){return{title:"",description:"",descriptionState:null,titleState:null,posts:[]}},methods:{validateForm(){this.descriptionState=null,this.titleState=null;let t=!0;return this.title||(this.titleState=!1,t=!1),this.description||(this.descriptionState=!1,t=!1),t},async submit(){if(!this.validateForm())return;const t={title:this.title,description:this.description},e=await fetch("http://localhost:8000/posts/blog/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),s=await e.json();201===e.status&&(this.$router.push({name:"HomePage"}),this.posts.push(s))}}},x=P,T=(0,r.Z)(x,C,k,!1,null,"66a7a650",null),j=T.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit-post-container"},[e("p",{staticStyle:{"font-weight":"bold",position:"absolute",top:"82px"}},[t._v("Title:")]),e("b-form-input",{staticClass:"mb-2 w-50",attrs:{id:"title"},model:{value:t.postData.title,callback:function(e){t.$set(t.postData,"title",e)},expression:"postData.title"}}),e("p",{staticStyle:{"font-weight":"bold",position:"absolute",top:"153px"}},[t._v("Text:")]),e("b-form-input",{staticClass:"w-50",attrs:{id:"textarea-rows",rows:"8"},model:{value:t.postData.description,callback:function(e){t.$set(t.postData,"description",e)},expression:"postData.description"}}),e("div",{staticClass:"mt-5"},[e("b-button",{attrs:{variant:"primary"},on:{click:t.editPost}},[t._v("Edit")])],1)],1)},D=[],E={name:"EditPostView",data(){return{postData:{title:"",description:""}}},methods:{async getPostData(){const t=await fetch(`http://localhost:8000/posts/blog/${this.$route.params.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.postData=e},async editPost(){try{let t={title:this.postData.title,description:this.postData.description};const e=await fetch(`http://localhost:8000/posts/blog/${this.$route.params.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),s=await e.json();this.postData=s,e.ok?(console.log("Post edited successfully."),this.$router.push({name:"HomePage"})):console.error("Error editing post.")}catch(t){console.error("Error editing post:",t)}}},async created(){await this.getPostData()}},O=E,M=(0,r.Z)(O,$,D,!1,null,null,null),U=M.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"d-flex justify-content-center mt-5"},[e("b-input-group",{staticClass:"mt-3"},[e("b-form-input",{attrs:{size:"sm",placeholder:"Search User"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.performSearch.apply(null,arguments)}},model:{value:t.searchUser,callback:function(e){t.searchUser=e},expression:"searchUser"}}),e("b-input-group-append",[e("b-button",{staticStyle:{position:"absolute",right:"10px",top:"10px","z-index":"5"},attrs:{variant:"outline-info"},on:{click:t.performSearch}},[e("i",{staticClass:"fa fa-search"}),t._v("Search ")])],1)],1)],1),e("h1",{staticStyle:{padding:"40px","text-align":"center"}},[t._v(t._s(t.userData.username))]),e("b-row",{attrs:{"align-h":"center"}},t._l(t.posts,(function(s){return e("b-col",{key:s.id,attrs:{md:"6"}},[e("div",{staticClass:"mb-3 mx-auto",staticStyle:{"max-width":"30rem"},attrs:{align:"center"}},[e("div",{staticStyle:{border:"1px solid gray","border-radius":"4px"}},[e("b-card-text",[e("h3",[t._v(t._s(s.title))]),e("random-image"),e("p",[t._v(t._s(s.description))]),e("b-button",{staticStyle:{"margin-bottom":"20px","font-size":"17px","margin-right":"10px"},attrs:{variant:"btn btn-info"},on:{click:function(e){return t.$router.push({name:"EditPost",params:{id:s.id}})}}},[t._v("Edit")]),e("b-button",{staticStyle:{"margin-bottom":"20px"},attrs:{variant:"btn btn-danger"},on:{click:function(e){return t.deletePost(s.id)}}},[t._v("Delete")])],1)],1),e("post-comment",{staticClass:"mt-3",attrs:{post:s},on:{commentCreated:t.getPersonalPosts}})],1)])})),1)],1)},V=[],A=function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:t.selectedImage}})])},z=[],Z={data(){return{images:["https://picsum.photos/200/","https://picsum.photos/201","https://picsum.photos/202","https://picsum.photos/203"],selectedImage:""}},created(){let t=Math.floor(Math.random()*this.images.length);this.selectedImage=this.images[t]}},G=Z,H=(0,r.Z)(G,A,z,!1,null,null,null),q=H.exports,F=function(){var t=this,e=t._self._c;return e("div",[t.hasHr?e("hr"):t._e(),t.post.comment_set.length?e("ul",t._l(t.post.comment_set,(function(s){return e("li",{key:s.id,staticClass:"comment"},[e("div",{staticClass:"profile-picture"},[s.user.image?e("img",{attrs:{src:s.user.image,alt:"User Avatar"}}):e("img",{attrs:{src:"https://picsum.photos/id/1025/30/30",alt:"Default Profile Picture"}})]),e("div",{staticClass:"comment-content"},[e("div",{staticClass:"comment-text"},[e("span",{staticClass:"comment-user"},[t._v(t._s(s.user.username))]),e("span",{staticClass:"comment-message"},[t._v(t._s(s.body))])])])])})),0):e("p",[t._v("No comments yet.")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"newComment"}},[t._v("Add Comment")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],staticClass:"form-control",attrs:{id:"newComment"},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}})]),e("b-button",{staticClass:"btn btn-primary mt-3",on:{click:t.postComment}},[t._v(" Post Comment ")])],1)},N=[],J={name:"PostComment",props:["post","hasHr"],data(){return{newComment:""}},methods:{async postComment(){if(!this.newComment)return;const t=await fetch(`http://localhost:8000/posts/${this.post.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`},body:JSON.stringify({body:this.newComment})});t.ok&&(this.$emit("commentCreated"),this.newComment=""),console.log(t)}}},L=J,Y=(0,r.Z)(L,F,N,!1,null,null,null),R=Y.exports,W={name:"HomePageView",components:{RandomImage:q,PostComment:R},data(){return{searchUser:"",userData:{id:"",username:"",email:""},posts:[]}},methods:{performSearch(){this.$router.push({name:"UserPage",params:{username:this.searchUser}})},async getUserData(){const t=await fetch("http://localhost:8000/users/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.userData=e},async getPersonalPosts(){const t=await fetch("http://localhost:8000/posts/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.posts=e},async deletePost(t){await fetch(`http://localhost:8000/posts/blog/${t}/delete`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),await this.getPersonalPosts()}},async created(){await this.getUserData(),await this.getPersonalPosts()}},B=W,X=(0,r.Z)(B,I,V,!1,null,"58d6c944",null),K=X.exports,Q=function(){var t=this,e=t._self._c;return e("b-container",[e("h1",{staticClass:"mb-5"},[t._v(t._s(t.userData.username))]),e("b-row",t._l(t.posts,(function(s){return e("b-col",{key:s.id,attrs:{md:"6"}},[e("b-card",{staticClass:"mb-3",staticStyle:{"max-width":"30rem"},attrs:{"border-variant":"secondary","header-class":"font-weight: bold; font-size: 25px","header-border-variant":"secondary",align:"center"}},[e("b-card-text",[e("h3",{staticStyle:{"text-align":"left"}},[t._v(" "+t._s(s.title)+" ")]),e("p",[t._v(t._s(s.description))]),e("random-image"),e("post-comment",{attrs:{hasHr:!0,post:s},on:{commentCreated:t.getAllPosts}})],1)],1)],1)})),1)],1)},tt=[],et={name:"UserPageView",components:{PostComment:R,RandomImage:q},data(){return{userData:{id:"",username:"",email:""},posts:[],comments:[{user:"",body:"",post:""}],newComment:""}},methods:{async getUserData(){const t=await fetch(`http://localhost:8000/users/${this.$route.params.username}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.userData=e},async getAllPosts(){const t=await fetch(`http://localhost:8000/posts/users/${this.$route.params.username}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.posts=e}},async created(){await this.getUserData(),await this.getAllPosts()}},st=et,at=(0,r.Z)(st,Q,tt,!1,null,"0914f675",null),ot=at.exports;a["default"].use(d.ZP);const it=[{path:"/signup",name:"SignUp",component:b},{path:"/login",name:"Login",component:_},{path:"/post/create",name:"CreatePosts",component:j},{path:"/post/:id",name:"EditPost",component:U},{path:"/home",name:"HomePage",component:K},{path:"/user/:username",name:"UserPage",component:ot}],rt=new d.ZP({mode:"history",base:"/",routes:it});var nt=rt,lt=s(4359),ct=s(7244);s(7024);a["default"].use(lt.XG7),a["default"].use(ct.A7),a["default"].config.productionTip=!1,new a["default"]({router:nt,render:t=>t(c)}).$mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,i){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],i=t[d][2];for(var n=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(n=!1,i<r&&(r=i));if(n){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,o,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,i,r=a[0],n=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var d=l(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunkthe_blogs_app_frontend"]=self["webpackChunkthe_blogs_app_frontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(863)}));a=s.O(a)})();
//# sourceMappingURL=app.d9d21a5f.js.map