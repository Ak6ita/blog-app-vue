(function(){"use strict";var t={6686:function(t,e,a){var s=a(7195),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("b-navbar",{staticClass:"d-flex justify-content-between px-5",attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[e("b-navbar-brand",{attrs:{href:"#",to:{name:"HomePage"}}},[t._v("Home")]),["Login","SignUp"].includes(t.$route.name)?t._e():e("b-navbar-nav",[e("b-navbar-brand",{attrs:{href:"#"},on:{click:t.logOut}},[t._v("Sign Out")])],1)],1),e("router-view")],1)},i=[],n=(a(7658),{methods:{async logOut(){const t=await fetch("http://localhost:8000/users/logout",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}});t.ok&&(localStorage.removeItem("token"),this.$router.push({name:"Login"}))}}}),r=n,l=a(1001),c=(0,l.Z)(r,o,i,!1,null,null,null),d=c.exports,m=a(2241),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("b-card",{staticClass:"mx-auto text-center mt-5",staticStyle:{"max-width":"20rem"},attrs:{title:"Sign Up"}},[e("b-card-text",[e("b-form-input",{staticClass:"mb-2",attrs:{id:"email",type:"email",placeholder:"Your Email",state:t.emailState},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("b-form-invalid-feedback",{attrs:{id:"email-feedback"}},[t._v(" This field is required. ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"username",placeholder:"Your Username",state:t.usernameState},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("b-form-invalid-feedback",{attrs:{id:"username-feedback"}},[t._v(" This field is required. ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"password",type:"password",placeholder:"Your Password",state:t.passwordState},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v(" "+t._s(t.passwordValidationMsg)+" ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"confirm-password",type:"password",placeholder:"Confirm Password",state:t.confirmPasswordState},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),e("b-form-invalid-feedback",{attrs:{id:"confirm-password-feedback"}},[t._v(" "+t._s(t.confirmPasswordValidationMsg)+" ")])],1),e("b-button",{attrs:{variant:"primary"},on:{click:t.signup}},[t._v("Sign Up")]),e("div",{staticClass:"mt-2"},[e("span",[t._v("Already have an account?")]),e("router-link",{attrs:{to:{name:"Login"}}},[t._v(" Login ")])],1),e("b-alert",{staticClass:"mt-2",attrs:{show:t.visibleGeneralError,variant:"danger"}},[t._v(" "+t._s(t.generalErrorMsg)+" ")])],1)],1)},p=[],h={name:"SignUpView",data(){return{email:"",username:"",password:"",confirmPassword:"",emailState:null,usernameState:null,passwordState:null,confirmPasswordState:null,passwordValidationMsg:"This field is required.",confirmPasswordValidationMsg:"This field is required.",generalErrorMsg:"",visibleGeneralError:!1}},methods:{validateForm(){this.emailState=null,this.usernameState=null,this.passwordState=null,this.confirmPasswordState=null;let t=!0;return this.email||(this.emailState=!1,t=!1),this.username||(this.usernameState=!1,t=!1),this.password||(this.passwordState=!1,t=!1),this.confirmPassword||(this.confirmPasswordState=!1,t=!1),this.password!==this.confirmPassword&&(this.passwordState=!1,this.confirmPasswordState=!1,this.passwordValidationMsg="Passwords do not match",this.confirmPasswordValidationMsg="Passwords do not match",t=!1),t},async signup(){if(console.log("tuka sme vo sign up"),!this.validateForm())return void console.log("formot ne e validen");const t={username:this.username,email:this.email,password:this.password},e=await fetch("http://localhost:8000/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await e.json();if(201===e.status)localStorage.setItem("token",a.token),this.$router.push({name:"HomePage"});else{this.generalErrorMsg="";for(const t in a){let e=a[t];this.generalErrorMsg+=e.join(" "),this.generalErrorMsg+=" "}this.visibleGeneralError=!0}}},created(){localStorage.getItem("token")&&this.$router.push({name:"HomePage"})}},f=h,g=(0,l.Z)(f,u,p,!1,null,null,null),b=g.exports,v=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"container"},[e("b-card",{staticClass:"mx-auto text-center mt-5",staticStyle:{"max-width":"20rem"},attrs:{title:"Login"}},[e("b-card-text",[e("b-form-input",{staticClass:"mb-2",attrs:{id:"username",placeholder:"Your Username",state:t.usernameState},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("b-form-invalid-feedback",{attrs:{id:"username-feedback"}},[t._v(" "+t._s(t.usernameValidationMsg)+" ")]),e("b-form-input",{staticClass:"mb-2",attrs:{id:"password",type:"password",placeholder:"Your Password",state:t.passwordState},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("b-form-invalid-feedback",{attrs:{id:"password-feedback"}},[t._v(" "+t._s(t.passwordValidationMsg)+" ")])],1),e("b-button",{attrs:{variant:"primary"},on:{click:t.login}},[t._v("Log In")]),e("div",{staticClass:"mt-2"},[e("span",[t._v("Don't have an account?")]),e("router-link",{attrs:{to:{name:"SignUp"}}},[t._v(" Sign Up ")])],1)],1)],1)])},w=[],S={name:"LoginView",data(){return{username:"",password:"",usernameState:null,passwordState:null,passwordValidationMsg:"This field is required.",usernameValidationMsg:"This field is required."}},methods:{validateForm(){this.usernameState=null,this.passwordState=null;let t=!0;return this.username||(this.usernameState=!1,t=!1),this.password||(this.passwordState=!1,t=!1),t},async login(){if(!this.validateForm())return;const t={username:this.username,password:this.password},e=await fetch("http://localhost:8000/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await e.json();200===e.status?(localStorage.setItem("token",a.token),this.$router.push({name:"HomePage"})):(this.usernameState=!1,this.passwordState=!1,this.usernameValidationMsg="Invalid credentials.",this.passwordValidationMsg="Invalid credentials.")}},created(){localStorage.getItem("token")&&this.$router.push({name:"HomePage"})}},y=S,k=(0,l.Z)(y,v,w,!1,null,null,null),_=k.exports,C=function(){var t=this,e=t._self._c;return e("b-container",[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{md:"6"}},[e("div",{staticClass:"create-post-card"},[e("h1",[t._v("Create Post")]),e("br"),e("div",{staticClass:"wrapper"},[e("p",[e("b",[t._v("Title:")]),e("b-form-input",{staticClass:"mb-2 w-100",attrs:{id:"title",placeholder:"Write Title for the Blog",state:t.titleState},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(" This field is required. ")])],1),e("br"),e("div",[e("p",[e("b",[t._v("Text:")])]),e("b-form-input",{staticClass:"w-100",attrs:{id:"textarea-rows",placeholder:"What's on your mind?",state:t.descriptionState},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(" This field is required. ")])],1),e("br"),e("br")]),e("b-row",{staticClass:"text-center",attrs:{"align-v":"center"}},[e("b-col",[e("b-button",{staticClass:"main-navigation-button",attrs:{variant:"primary"},on:{click:t.submit}},[t._v("Post")])],1)],1)],1)])],1)],1)},P=[],x={name:"PostCreateView",data(){return{title:"",description:"",descriptionState:null,titleState:null,posts:[]}},methods:{validateForm(){this.descriptionState=null,this.titleState=null;let t=!0;return this.title||(this.titleState=!1,t=!1),this.description||(this.descriptionState=!1,t=!1),t},async submit(){if(!this.validateForm())return;const t={title:this.title,description:this.description},e=await fetch("http://localhost:8000/posts/blog/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await e.json();201===e.status&&(this.$router.push({name:"HomePage"}),this.posts.push(a))}},async created(){localStorage.getItem("token")||this.$router.push({name:"Login"})}},T=x,$=(0,l.Z)(T,C,P,!1,null,"55daf082",null),j=$.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"edit-post-container"},[e("div",{staticClass:"d-flex align-items-center"},[e("p",{staticStyle:{"font-weight":"bold"}},[t._v("Title:")]),e("div",{staticClass:"ms-2",staticStyle:{width:"100%"}},[e("b-form-input",{staticClass:"mb-2",attrs:{id:"title",state:t.titleState},model:{value:t.postData.title,callback:function(e){t.$set(t.postData,"title",e)},expression:"postData.title"}}),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(" This field is required. ")])],1)]),e("div",{staticClass:"d-flex align-items-center"},[e("p",{staticStyle:{"font-weight":"bold"}},[t._v("Text:")]),e("div",{staticClass:"ms-2",staticStyle:{width:"100%"}},[e("b-form-input",{attrs:{id:"textarea-rows",rows:"8",state:t.descriptionState},model:{value:t.postData.description,callback:function(e){t.$set(t.postData,"description",e)},expression:"postData.description"}}),e("b-form-invalid-feedback",{attrs:{id:"title-feedback"}},[t._v(" This field is required. ")])],1)]),e("div",{staticClass:"mt-5"},[e("b-button",{attrs:{variant:"primary"},on:{click:t.submit}},[t._v("Edit")])],1)])])},E=[],I={name:"EditPostView",data(){return{postData:{title:"",description:""},descriptionState:null,titleState:null}},methods:{validateForm(){this.descriptionState=null,this.titleState=null;let t=!0;return this.postData.title||(this.titleState=!1,t=!1),this.postData.description||(this.descriptionState=!1,t=!1),t},async submit(){this.validateForm()&&await this.editPost()},async getPostData(){const t=await fetch(`http://localhost:8000/posts/blog/${this.$route.params.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.postData=e},async editPost(){try{let t={title:this.postData.title,description:this.postData.description};const e=await fetch(`http://localhost:8000/posts/blog/${this.$route.params.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`},body:JSON.stringify(t)});e.ok?(console.log("Post edited successfully."),this.$router.push({name:"HomePage"})):console.error("Error editing post.")}catch(t){console.error("Error editing post:",t)}}},async created(){await this.getPostData(),localStorage.getItem("token")||this.$router.push({name:"Login"})}},O=I,M=(0,l.Z)(O,D,E,!1,null,null,null),U=M.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"d-flex justify-content-center mt-5"},[e("b-input-group",{staticClass:"mt-3"},[e("b-form-input",{attrs:{size:"sm",placeholder:"Search User"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.performSearch.apply(null,arguments)}},model:{value:t.searchUser,callback:function(e){t.searchUser=e},expression:"searchUser"}}),e("b-input-group-append",[e("b-button",{staticStyle:{position:"absolute",right:"10px",top:"10px","z-index":"5"},attrs:{variant:"outline-info"},on:{click:t.performSearch}},[e("i",{staticClass:"fa fa-search"}),t._v("Search ")])],1)],1)],1),e("h1",{staticStyle:{padding:"40px","text-align":"center"}},[t._v(t._s(t.userData.username))]),e("div",{staticClass:"text-center mb-5"},[e("b-button",{attrs:{to:{name:"CreatePosts"}}},[t._v("Create Post")])],1),e("b-row",{attrs:{"align-h":"center"}},t._l(t.posts,(function(a){return e("b-col",{key:a.id,attrs:{md:"6"}},[e("div",{staticClass:"mb-3 mx-auto",staticStyle:{"max-width":"30rem"},attrs:{align:"center"}},[e("div",{staticStyle:{border:"1px solid gray","border-radius":"4px"}},[e("b-card-text",[e("h3",[t._v(t._s(a.title))]),e("random-image"),e("p",[t._v(t._s(a.description))]),e("b-button",{staticStyle:{"margin-bottom":"20px","font-size":"17px","margin-right":"10px"},attrs:{variant:"btn btn-info"},on:{click:function(e){return t.$router.push({name:"EditPost",params:{id:a.id}})}}},[t._v("Edit")]),e("b-button",{staticStyle:{"margin-bottom":"20px"},attrs:{variant:"btn btn-danger"},on:{click:function(e){return t.deletePost(a.id)}}},[t._v("Delete")])],1)],1),e("post-comment",{staticClass:"mt-3",attrs:{post:a},on:{commentCreated:t.getPersonalPosts}})],1)])})),1)],1)},A=[],z=function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:t.selectedImage}})])},H=[],L={data(){return{images:["https://picsum.photos/200/","https://picsum.photos/201","https://picsum.photos/202","https://picsum.photos/203"],selectedImage:""}},created(){let t=Math.floor(Math.random()*this.images.length);this.selectedImage=this.images[t]}},Z=L,G=(0,l.Z)(Z,z,H,!1,null,null,null),q=G.exports,F=function(){var t=this,e=t._self._c;return e("div",[t.hasHr?e("hr"):t._e(),t.post.comment_set.length?e("ul",t._l(t.post.comment_set,(function(a){return e("li",{key:a.id,staticClass:"comment"},[e("div",{staticClass:"profile-picture"},[a.user.image?e("img",{attrs:{src:a.user.image,alt:"User Avatar"}}):e("img",{attrs:{src:"https://picsum.photos/id/1025/30/30",alt:"Default Profile Picture"}})]),e("div",{staticClass:"comment-content"},[e("div",{staticClass:"comment-text"},[e("span",{staticClass:"comment-user"},[t._v(t._s(a.user.username))]),e("span",{staticClass:"comment-message"},[t._v(t._s(a.body))])])])])})),0):e("p",[t._v("No comments yet.")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"newComment"}},[t._v("Add Comment")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],staticClass:"form-control",attrs:{id:"newComment"},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}})]),e("b-button",{staticClass:"btn btn-primary mt-3",on:{click:t.postComment}},[t._v(" Post Comment ")])],1)},N=[],J={name:"PostComment",props:["post","hasHr"],data(){return{newComment:""}},methods:{async postComment(){if(!this.newComment)return;const t=await fetch(`http://localhost:8000/posts/${this.post.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`},body:JSON.stringify({body:this.newComment})});t.ok&&(this.$emit("commentCreated"),this.newComment=""),console.log(t)}}},Y=J,R=(0,l.Z)(Y,F,N,!1,null,null,null),W=R.exports,B={name:"HomePageView",components:{RandomImage:q,PostComment:W},data(){return{searchUser:"",userData:{id:"",username:"",email:""},posts:[]}},methods:{performSearch(){this.$router.push({name:"UserPage",params:{username:this.searchUser}})},async getUserData(){const t=await fetch("http://localhost:8000/users/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.userData=e},async getPersonalPosts(){const t=await fetch("http://localhost:8000/posts/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.posts=e},async deletePost(t){await fetch(`http://localhost:8000/posts/blog/${t}/delete`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),await this.getPersonalPosts()}},async created(){await this.getUserData(),await this.getPersonalPosts(),localStorage.getItem("token")||this.$router.push({name:"Login"})}},X=B,K=(0,l.Z)(X,V,A,!1,null,"0547aece",null),Q=K.exports,tt=function(){var t=this,e=t._self._c;return e("b-container",[e("h1",{staticClass:"mb-5"},[t._v(t._s(t.userData.username))]),e("b-row",t._l(t.posts,(function(a){return e("b-col",{key:a.id,attrs:{md:"6"}},[e("b-card",{staticClass:"mb-3",staticStyle:{"max-width":"30rem"},attrs:{"border-variant":"secondary","header-class":"font-weight: bold; font-size: 25px","header-border-variant":"secondary",align:"center"}},[e("b-card-text",[e("h3",{staticStyle:{"text-align":"left"}},[t._v(" "+t._s(a.title)+" ")]),e("p",[t._v(t._s(a.description))]),e("random-image"),e("post-comment",{attrs:{hasHr:!0,post:a},on:{commentCreated:t.getAllPosts}})],1)],1)],1)})),1)],1)},et=[],at={name:"UserPageView",components:{PostComment:W,RandomImage:q},data(){return{userData:{id:"",username:"",email:""},posts:[],comments:[{user:"",body:"",post:""}],newComment:""}},methods:{async getUserData(){const t=await fetch(`http://localhost:8000/users/${this.$route.params.username}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.userData=e},async getAllPosts(){const t=await fetch(`http://localhost:8000/posts/users/${this.$route.params.username}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Token ${localStorage.getItem("token")}`}}),e=await t.json();this.posts=e}},async created(){await this.getUserData(),await this.getAllPosts(),localStorage.getItem("token")||this.$router.push({name:"Login"})}},st=at,ot=(0,l.Z)(st,tt,et,!1,null,"7e6f254c",null),it=ot.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-5"},[e("h1",{staticClass:"text-center"},[t._v("Page not found")]),e("div",{staticClass:"text-center"},[e("router-link",{attrs:{to:{name:"HomePage"}}},[t._v("Go back to homepage")])],1)])},rt=[],lt={},ct=(0,l.Z)(lt,nt,rt,!1,null,null,null),dt=ct.exports;s["default"].use(m.ZP);const mt=[{path:"/signup",name:"SignUp",component:b},{path:"/login",name:"Login",component:_},{path:"/post/create",name:"CreatePosts",component:j},{path:"/post/:id",name:"EditPost",component:U},{path:"/home",name:"HomePage",component:Q},{path:"/user/:username",name:"UserPage",component:it},{path:"/:pathMatch(.*)*",name:"NotFound",component:dt}],ut=new m.ZP({base:"/",routes:mt});var pt=ut,ht=a(4359),ft=a(7244);a(7024);s["default"].use(ht.XG7),s["default"].use(ft.A7),s["default"].config.productionTip=!1,new s["default"]({router:pt,render:t=>t(d)}).$mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,i){if(!s){var n=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],i=t[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,i<n&&(n=i));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[s,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,n=s[0],r=s[1],l=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(l)var d=l(a)}for(e&&e(s);c<n.length;c++)i=n[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},s=self["webpackChunkthe_blogs_app_frontend"]=self["webpackChunkthe_blogs_app_frontend"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6686)}));s=a.O(s)})();
//# sourceMappingURL=app.4b27fc9d.js.map